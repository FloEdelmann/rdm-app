# -*- coding: utf-8 -*-
#  This program is free software; you can redistribute it and/or modify
#  it under the terms of the GNU General Public License as published by
#  the Free Software Foundation; either version 2 of the License, or
#  (at your option) any later version.
#
#  This program is distributed in the hope that it will be useful,
#  but WITHOUT ANY WARRANTY; without even the implied warranty of
#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#  GNU Library General Public License for more details.
#
#  You should have received a copy of the GNU General Public License
#  along with this program; if not, write to the Free Software
#  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
#
# loader.py
# Copyright (C) 2011 Simon Newton
# The handlers for /pid /pid_search and /manufacturers

import logging
from model import Manufacturer
from google.appengine.ext import webapp
from google.appengine.ext.webapp.util import run_wsgi_app

items = [
(0x0000, "ESTA"),
(0x0001, u"GEE"),
(0x00A1, u"Creative Lighting And Sound Systems Pty Ltd."),
(0x0391, u"Alcorn McBride Inc."),
(0x0394, u"Prism Projection"),
(0x039B, u"Lightforce Lasertechnik"),
(0x0424, u"FLUX ECLAIRAGE"),
(0x050A, u"ChamSys Ltd."),
(0x056C, u"Lumascape Lighting Industries"),
(0x0573, u"Jiaxing Xinhuali Lighting & Sounding CO., LTD."),
(0x05D3, u"D-LED Illumination Technologies Ltd."),
(0x060B, u"Lighting Science Group (formerly LED Effects, Inc.)"),
(0x0808, u"Zero 88"),
(0x0916, u"ACTOR-MATE CO., LTD."),
(0x1234, u"ESTA"),
(0x1337, u"Raven Systems Design, Inc."),
(0x1888, u"Guanzhou Kavon Stage Equipment CO., LTD."),
(0x1998, u"PLS Electronics Ltd."),
(0x20A6, u"Aladin Architekturlicht GmbH"),
(0x20B6, u"Alkalite LED Technology Corp"),
(0x20B9, u"Arnold & Richter Cine Technik GmbH & Co. Betriebs KG"),
(0x20BA, u"AusChristmasLighting"),
(0x2122, u"Beglec NV"),
(0x2130, u"Bart van Stiphout Electronics & Software"),
(0x21A4, u"CHAUVET Lighting"),
(0x21B3, u"Coolon Pty Ltd"),
(0x21B4, u"Chromlech"),
(0x2222, u"D.E.F. Srl"),
(0x2239, u"Dream Solutions Ltd."),
(0x22A0, u"EAS Systems"),
(0x22A9, u"Engineering Solutions Inc."),
(0x23B2, u"Gekko Technology Ltd."),
(0x242A, u"Hungaroflash"),
(0x24AA, u"IT Ihme"),
(0x2622, u"LDDE Vertriebs Gmbh"),
(0x2623, u"Leonh Hardware Enterprise Inc."),
(0x2635, u"LjusDesign AB"),
(0x263C, u"I-Pix Digital Light Ltd."),
(0x2734, u"Nixer Ltd."),
(0x2821, u"Pioneer Corporation"),
(0x2927, u"ROAL Electronics SpA"),
(0x2999, u"ALL-DO International CO., LTD. "),
(0x29A9, u"SRS Light Design"),
(0x29B4, u"Showtec (Highlite International B.V.)"),
(0x29B8, u"Spotlight s.r.l."),
(0x29BA, u"State Automation Pty Ltd."),
(0x2A26, u"Toni Maroni Gmb"),
(0x2AAB, u"Urban Visuals & Effects Ltd."),
(0x2BA2, u"WERPAX bvba"),
(0x2C2A, u"XTBA"),
(0x3388, u"Macostar International Ltd."),
(0x3805, u"Yifeng Lighting Co., Ltd."),
(0x3806, u"ACME Effects LTD."),
(0x3868, u"LanBolight Technology Co., LTD."),
(0x3888, u"Fly Dragon Lighting Equipment Co.,ltd"),
(0x388A, u"Guangzhou Yajiang (Yagang - Silver Star) Photoelectric Equipment Ltd."),
(0x4051, u"San Jack Analog House CO., LTD."),
(0x4131, u"Altman Stage Lighting"),
(0x4141, u"AVAB America, Inc."),
(0x4144, u"ADB - TTV Technologies nv"),
(0x4145, u"ADE Elettronica srl"),
(0x4149, u"Anidea Engineering, INC."),
(0x414C, u"Artistic Licence (UK) Ltd."),
(0x414D, u"Amptown Lichttechnik GmbH"),
(0x414E, u"Anytronics Ltd."),
(0x4150, u"Apogee Lighting"),
(0x4153, u"Audio Scene"),
(0x4154, u"Arnold Tang Productions"),
(0x4156, u"Audio Visual Devices P/L"),
(0x4164, u"Adelto Limited"),
(0x416C, u"Alenco BV"),
(0x4172, u"Arnold Lichttechnik"),
(0x4179, u"Ayrton"),
(0x4241, u"Beckhoff Automation GmbH"),
(0x4243, u"Bill Coghill Company : Bill Coghill Design"),
(0x4245, u"Bytecraft Entertainment Pty Ltd"),
(0x424F, u"BOTEX"),
(0x4253, u"Barco"),
(0x42A2, u"Birket Engineering, Inc."),
(0x4344, u"CDCA Ltd."),
(0x4347, u"Cast Software"),
(0x4349, u"C.I.Tronics Lighting Designers Ltda"),
(0x434B, u"Color Kinetics Inc."),
(0x434D, u"Coemar Spa"),
(0x4350, u"Clay Paky S.p.A"),
(0x4353, u"Capricorn Software"),
(0x4354, u"City Theatrical, Inc."),
(0x4358, u"Connex GmbH"),
(0x4369, u"Cinetix Medien u. Interface GmbH"),
(0x436F, u"CODEM MUSIC S.r.l."),
(0x4441, u"Digital Art System"),
(0x4442, u"Elettrolab S.r.l."),
(0x4443, u"Claudio Dal Cero Engineering"),
(0x4444, u"D.O.M. Datenverarbeitung GmbH"),
(0x4445, u"Dezelectric Kft."),
(0x4446, u"Doug Fleenor Design, Inc."),
(0x4449, u"Durand Interstellar, Inc."),
(0x444C, u"Dove Lighting Systems, Inc."),
(0x444D, u"Digimedia Multimedia Lighting Solutions"),
(0x4450, u"DMXPROFI.EU GmbH i.G."),
(0x4456, u"Devantech Ltd."),
(0x4466, u"DF elettronica s.r.l."),
(0x4469, u"Diamante Lighting Srl"),
(0x453A, u"E:cue Control GmbH"),
(0x4541, u"Engineering Arts"),
(0x4543, u"EC Elettronica Srl"),
(0x4544, u"Electronics Diversified LLC"),
(0x454C, u"Ingenieurbuero fuer Nachrichtentechnik in der Studio und Veranstaltungstechnik"),
(0x454E, u"ENTTEC Pty Ltd"),
(0x4552, u"EREA"),
(0x4554, u"Entertainment Technology"),
(0x4563, u"Les Éclairages Lou Inc."),
(0x456C, u"Element Labs Inc."),
(0x464C, u"Flashlight/Ampco Holding"),
(0x4744, u"Goddard Design Co."),
(0x4745, u"GPE srl"),
(0x474C, u"G-LEC Europe GmbH"),
(0x4750, u"DES"),
(0x4753, u"Golden Sea Disco Light Manufacturer"),
(0x476C, u"General Luminaire (Shanghai) Ltd."),
(0x4843, u"Horizon Control Inc."),
(0x4844, u"HxDx"),
(0x4845, u"Howard Eaton Lighting Ltd."),
(0x484C, u"HBE Lighting Systems"),
(0x4856, u"Enfis Ltd"),
(0x4881, u"Rena Electronica B.V."),
(0x4941, u"inoage trade - Hertel, Pinzer, Wissmann GbR"),
(0x4942, u"IBEX UK Limited"),
(0x4945, u"Insta Elektro GmbH"),
(0x4948, u"Ice House Productions"),
(0x494C, u"I-Lum"),
(0x494E, u"Interactive Technologies, Inc."),
(0x4950, u"Interesting Products, Inc."),
(0x4952, u"Invisible Rival Incorporated"),
(0x4953, u"Integrated System Technologies Ltd."),
(0x4954, u"Integrated Theatre, Inc."),
(0x4973, u"Innovation Solutions Ltd."),
(0x4A31, u"Joshua 1 Systems Inc."),
(0x4A41, u"JANUS srl"),
(0x4A42, u"JB-lighting GmbH"),
(0x4A4C, u"Johnsson Lighting Technologies AB"),
(0x4A53, u"JSC MFG"),
(0x4A54, u"James Thomas Engineering"),
(0x4A61, u"Jands Pty Ltd."),
(0x4B42, u"KissBox"),
(0x4B46, u"Kino Flo, Inc."),
(0x4B4C, u"KLH Electronics PLC"),
(0x4B4D, u"KMX Inc."),
(0x4B55, u"kuwatec, Inc."),
(0x4C20, u"LAM32 srl"),
(0x4C41, u"LaserAnimation Sollinger GmbH"),
(0x4C45, u"Leviton Manufacturing Co., Inc."),
(0x4C4C, u"LUMINEX Lighting Control Equipment bvba"),
(0x4C4D, u"Lemaitre Special Effects Inc"),
(0x4C50, u"LightProcessor Ltd"),
(0x4C52, u"High End Systems Inc."),
(0x4C53, u"Licht-, Steuer- und Schaltanlagenbau GmbH (LSS GmbH)"),
(0x4C54, u"Licht-Technik"),
(0x4C55, u"LumenRadio AB"),
(0x4C56, u"LEDValley Technologies Sdn Bhd"),
(0x4C57, u"LightWild LC"),
(0x4C58, u"Lex Products Corp."),
(0x4C59, u"Laser Technology Ltd."),
(0x4C5A, u"LightMinded Industries, Inc."),
(0x4C5B, u"LightLife, Gesellschaft für audiovisuelle Erlebnisse mbH"),
(0x4C64, u"LED Team"),
(0x4C65, u"Legargeant and Associates"),
(0x4C69, u"Lightolier"),
(0x4C6C, u"Lampo Lighting Designers"),
(0x4C73, u"LSC Lighting Systems (Aust) Pty. Ltd."),
(0x4CE5, u"LED Company s.r.o."),
(0x4D41, u"MA Lighting Technology GmbH"),
(0x4D42, u"LAN Systems--Midibox project"),
(0x4D44, u"Les Générateurs de brouillard MDG Fog Generators Ltd."),
(0x4D4C, u"Mode Lighting (UK) Ltd."),
(0x4D50, u"Martin Professional A/S"),
(0x4D54, u"medien technik cords"),
(0x4D56, u"Avolites Ltd."),
(0x4D58, u"MX design"),
(0x4D61, u"Martini S.p.A."),
(0x4D75, u"Müller Elektronik"),
(0x4E41, u"Company NA"),
(0x4E4A, u"NJD Electronics"),
(0x4E4C, u"Novalight S.r.l."),
(0x4E57, u"AIM Northwest"),
(0x4E69, u"Niko"),
(0x4F41, u"Oase GmbH"),
(0x4F4C, u"DDS Elettronica"),
(0x4F75, u"Outsight Pty Ltd."),
(0x5043, u"Pathway Connectivity Inc."),
(0x504C, u"Peperoni Lighting-Solutions"),
(0x5052, u"Production Resource Group"),
(0x5058, u"PXM s.c."),
(0x5062, u"LED, Inc."),
(0x5065, u"Peradise"),
(0x5066, u"Pfannenberg GmbH"),
(0x5068, u"Philips Lighting BV"),
(0x5075, u"Pulsar Light of Cambridge Ltd."),
(0x512D, u"Djpower Electronic Stage Lighting Fixture Factory"),
(0x5149, u"JAP Optoelectronic Ltd."),
(0x514D, u"Qmaxz lighting"),
(0x5153, u"QuickSilver Controls, Inc."),
(0x516C, u"Quicklights"),
(0x524C, u"Radical Lighting Ltd."),
(0x524D, u"Ruiz Tech"),
(0x524E, u"RNC Systems Inc."),
(0x5252, u"RoscoLab Ltd"),
(0x5253, u"Robe Show Lighting s.r.o."),
(0x5341, u"Stage Technologies Limited"),
(0x5342, u"Industrias Sola Basic S.A. de C.V."),
(0x5343, u"Ocean Optics Inc."),
(0x5344, u"Stardraw.com Ltd."),
(0x5345, u"Selador"),
(0x5346, u"Synthe FX, LLC"),
(0x5347, u"SGM Technology For Lighting SPA"),
(0x5348, u"Schréder"),
(0x5349, u"Soundsculpture Incorporated"),
(0x534B, u"SK-Software"),
(0x534C, u"Soundlight"),
(0x534E, u"Sand Network Systems"),
(0x5354, u"Stagetronics Ltda"),
(0x5356, u"OOO SAMLIGHT"),
(0x5363, u"SpaceCannon vH"),
(0x5368, u"ShowCAD Control Systems Ltd."),
(0x536C, u"StageLine Electronic"),
(0x5370, u"Spectrum Manufacturing Inc."),
(0x5374, u"STG-Beikirch Industrieelektronik + Sicherheitstechnik GmbH & Co. KG"),
(0x5376, u"SV-wtu eU"),
(0x5377, u"Swisson AG"),
(0x53A8, u"Simon Tech"),
(0x5441, u"TecArt Lighting  "),
(0x5444, u"Technographic Displays Ltd."),
(0x5445, u"TESI Elettronica srl"),
(0x544C, u"Tempest Lighting Inc."),
(0x5453, u"TalentStorm Enterprises, Inc."),
(0x5454, u"TamaTech Labo Company Ltd,"),
(0x5555, u"Martin Sukale Medientechnik GbR"),
(0x564C, u"Vari-Lite, Inc."),
(0x5651, u"Vision Quest Lighting Inc."),
(0x5653, u"Viso Systems Aps"),
(0x5744, u"W-DEV"),
(0x5746, u"Wildfire, Inc."),
(0x5753, u"Wireless Solution Sweden AB"),
(0x5759, u"Wybron, Inc."),
(0x584D, u"Xtraordinary Musical Accolade Systems"),
(0x5865, u"Xenon Architectural Lighting"),
(0x5888, u"Plsao Optoelectronics Technology Co., Ltd."),
(0x614C, u"Alektra AB"),
(0x6164, u"Apollo Design Technology, Inc"),
(0x616C, u"Advanced Lighting Systems"),
(0x6364, u"CDS advanced technology bv"),
(0x6461, u"Digilin Australia"),
(0x6464, u"Dangeross Design"),
(0x646F, u"eldoLED BV"),
(0x6542, u"eBrain GmbH"),
(0x6547, u"euroGenie"),
(0x656C, u"ELC lighting"),
(0x6573, u"Environmental Lighting Solutions"),
(0x6574, u"Electronic Theatre Controls, Inc."),
(0x6576, u"eventa Aktiengesellschaft"),
(0x6673, u"Freescale Semiconductor U.K. Ltd."),
(0x676C, u"GLP German Light Products GmbH"),
(0x6816, u"ChamberPlus Co., Ltd"),
(0x6864, u"James Embedded Systems Engineering (JESE Ltd)"),
(0x6865, u"Hubbell Entertainment, Inc."),
(0x694C, u"iLight Technologies Inc"),
(0x6974, u"Ittermann electronic GmbH"),
(0x6A6B, u"JPK Systems Limited"),
(0x6B64, u"Key Delfin"),
(0x6C6D, u"Zumtobel Lighting GmbH"),
(0x6D61, u"MAL Effekt-Technik GmbH"),
(0x6D62, u"MBN GmbH"),
(0x6D63, u"Sein & Schein GmbH"),
(0x7068, u"Pharos Architectural Controls"),
(0x7072, u"Pr-Lighting Ltd."),
(0x7078, u"PixelRange Inc."),
(0x7363, u"Sean Christopher FX"),
(0x736C, u"Strand Lighting Ltd."),
(0x7764, u"WET"),
(0x786C, u"XLN-t bvba"),
(0x7A70, u"Open Lighting"),
(0xFFFF, u"ESTA"),
]


class LoadHandler(webapp.RequestHandler):
  """Return the list of all manufacturers."""
  def get(self):
    self.response.headers['Content-Type'] = 'text/plain'

    for id, name in items:
      logging.info('%d, %s' % (id, name))
      manufacturer = Manufacturer(esta_id = id, name = name)
      manufacturer.put()

    self.response.out.write('ok')


class ClearHandler(webapp.RequestHandler):
  """Return the list of all manufacturers."""
  def get(self):
    self.response.headers['Content-Type'] = 'text/plain'

    for item in Manufacturer.all():
      item.delete()

    self.response.out.write('ok')


application = webapp.WSGIApplication(
  [
    ('/load', LoadHandler),
    ('/clear', ClearHandler),
  ],
  debug=True)

def main():
  logging.getLogger().setLevel(logging.INFO)
  run_wsgi_app(application)

if __name__ == "__main__":
  main()
